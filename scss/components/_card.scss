// -----------------------------------------------------------------------------
// card
// -----------------------------------------------------------------------------

.card {
  display: flex;
  @media only screen and (max-width: $neo-breakpoint) {
    display: block;
  }
  flex-direction: row;
  border: none;
  margin-bottom: $component-margin-bottom;
  & > img, .card-img-top, .card-img-left, .img-top, .img-left,
  .filter-ally-wrapper > img {
    width: 310px;
    height: 100%;
    flex-shrink: 0;
    border-radius: 0; 
    @media only screen and (max-width: $neo-breakpoint) {
      width: 100%;
    }
    &.img-right, .card-img-right {
      order: 2;
    }
  }
  &.img-right {
    & > img,
    & > .filter-ally-wrapper {
      order: 2;
    }
  }
  .card-body {
    background-color: $block-background;
    width: 100%;
    h4 {
      margin-top: 0;
      margin-bottom: 0.75rem;
    }
    & > :last-child {
      margin-bottom: 0 !important;
    }
  }
}

// horizontal card deck
.card-deck {
  margin-left: 0;
  margin-right: 0;
  .card {
    display: block;
    margin-bottom: $component-margin-bottom;
    &:first-child {
      margin-left: 0;
    }
    &:last-child {
      margin-right: 0;
    }
    & > img,
    & .filter-ally-wrapper > img {
      width: 100%;
      height: auto;
    }
    .card-body:only-child {
      height: 100%;
    }
  }
}

.float-box {
  display: flex;
  align-items: flex-start;
  margin-bottom: $component-margin-bottom;
  &.img-right .filter-ally-wrapper,
  &.img-right > img,
  & > img.img-right,
  &.img-right > .img-container {
    order: 2;
    margin-left: $component-margin-sm;
    margin-right: 0;
    @media only screen and (max-width: $neo-breakpoint) {
      margin-left: 0;
    }
  }
  &.img-right .filter-ally-wrapper {
    & > img {
      margin: 0;
    }
  }
  // blackboard ally
  & > .filter-ally-wrapper {
    flex-shrink: 0;
  }
  & > img,
  & > .filter-ally-wrapper > img {
    margin: 0 $component-margin-sm 0 0;
  }
  & > img {
    position: relative;
  }
  & > .filter-ally-wrapper > img {
    height: auto;
    flex-shrink: 0;
    .caption {
      margin-top: $component-margin-xs;
      margin-bottom: 0;
      max-width: fit-content;
    }
  }
  &:not(.small-image) {
    @media only screen and (max-width: $neo-breakpoint) {
      display: block;
      & > img, & > .filter-ally-wrapper > img {
        margin-right: 0;
        margin-bottom: $component-margin-bottom-sm;
        width: 100%;
      }
    }
  }  
  &.small-image {
    & > img,
    & > .filter-ally-wrapper > img {
      width: 100px;
      height: 100px;
    }
  }
  .img-container {
    margin-right: $component-margin-sm;
    .caption {
      margin-top: $component-margin-xs;
    }
  }
  & > div,
  .float-box-body {
    h3, h4, h5 {
      @extend .h4;
      margin-bottom: 0.75rem;
    }
    & > :last-child {
      margin-bottom: 0;
    }
  }
}
