// -----------------------------------------------------------------------------
// quiz
// -----------------------------------------------------------------------------

// summary page
#page-mod-quiz-view {
  .box.quizinfo p {
    font-family: 'KingsBureauGrotFiveOne';
    text-align: left;
    &:first-child::before {
      @extend .icon-before;
      content: '\f017';
    }
    &:nth-child(2)::before {
      @extend .icon-before;
      content: '\f091';
    }
  } 
  .quizattemptsummary {
    border-left: 1px solid $table-border;
    border-right: 1px solid $table-border;
    border-collapse: separate;
    thead .header {
      font-family: 'KingsBureauGrot';
      background-color: #01b9e1;
      color: $headings;
      &.lastcol {
        color: #01b9e1 !important;
      }
    }
    tr td {
      font-family: 'KingsBureauGrotFiveOne';
      background-color: transparent;
      color: $body-text;
      padding: 0.75rem 1.25rem;
      &.lastcol {
        a {
          @extend .btn, .btn-primary;
        }
      }
    }
    tr:last-child th, tr:last-child td {
      border-bottom: 1px solid $table-border;
    }
  }
  .generalbox#feedback {
     margin: 0;
     padding: 0;
  }
  .quizstartbuttondiv form {
    text-align: left;
    div {
      margin-left: 0;
    }
  }
}

// review page
#page-mod-quiz-review {
  .quizreviewsummary {
    border-left: 1px solid $table-border;
    tr th, tr td {
      border-right: 1px solid $table-border;
      border-top: 1px solid $table-border;
      background-color: $white;
    }
    tr th{
      font-family: 'KingsBureauGrot';
      color: $headings;
      text-align:left !important; 
    }
    tr td{
      color: $body-text;
    }
    tr:nth-child(even)>th, tr:nth-child(even)>td {
      background-color: #f8fafa !important;
    }
    tr:last-child th, tr:last-child td {
      border-bottom: 1px solid $table-border;
    }
  }
}

//quiz attempt page
#page-mod-quiz-attempt {
  .submitbtns {
    .mod_quiz-prev-nav.btn.btn-secondary {
      @extend .btn, .btn-secondary;
    }
  }
}
// quiz navigation block
#mod_quiz_navblock .content {
  a.qnbutton {
    height: 1.25rem;
    width: 1.25rem;
    font-size: 1rem !important;
    padding: 0 !important;
    margin: 0 0.625rem 0.625rem 0;
    background-color: $pearl-grey !important;
    color: $headings !important;
    span.thispageholder {
      border: none;
    }
    span.trafficlight {
      display: none;
    }
    &.correct {
      background-color: rgba(65, 195, 130, 0.5) !important;
    }
    &.incorrect {
      background-color: rgba(234, 100, 94, 0.5) !important;
    }
    &.notanswered {
      background-color: rgba(65, 185, 225, 0.5) !important;
      span.thispageholder {
        border: 2px solid #f5b90d;
        border-radius: 4px;
      }
    }
  }
  .othernav {
    text-align: right;
    a.endtestlink {
      @extend .btn;
      @extend .btn-primary;
      display: inline;
      margin-right: 0;
    }
    #quiz-timer {
     font-family: 'KingsBureauGrotFiveOne';
     font-size: 1.125rem;
      #quiz-time-left {
        font-family: 'KingsBureauGrot';
      }
      &::before {
        content: '\f017';
        font-family: 'Font Awesome 5 Pro';
        font-weight: 900;
        margin-right: 4px;
      }
    }
    .singlebutton {
      div {
        margin-right: 0;
        input[type="submit"] {
          @extend .btn, .btn-primary;
          margin-right: 0;
          margin-top: 1rem;
        }
      }
    }
  }
}

// quiz question
.que {
  margin: 0 0 $component-margin-bottom-lg;
  .info {
    margin-bottom: $component-margin-bottom;
    background-color: transparent;
    padding: 0;
    border: none;
    .no {
      width: 100%;
    }.no, .qno {
      @extend .h5;
    }
    div {
      margin: 0 $component-margin-bottom-xs 0 0;
      line-height: normal;
      font-size: 1rem;
      padding: 0.375rem;
      margin: 0 $component-margin-bottom-xs 0 0;
    }
    div.state, div.grade {
      font-family: 'KingsBureauGrot';
      border-radius: 0.125rem;
    }
    div.state {
      background-color: $sky-blue;
      text-transform: uppercase;
      color: $white;
    }
    div.grade {
      background-color: #e6ebed;
      color: $headings;
    }
    .questionflag.editable {
      font-family: 'KingsBureauGrotFiveOne';
      .questionflagimage {
        display: none;
      }
      .questionflagtext::before {
        @extend .icon-before;
        content: '\f024';
        color: $yellow;
        font-weight: 500;
      }
    }
  }
  // quiz question and feedback box
  .content {
    .formulation {
      background-color: transparent;
      margin: 0;
      padding: 0;
      .qtext {
        margin-bottom: $component-margin-bottom;
        p {
          margin-bottom: $component-margin-bottom-sm;
       }
      }
      .ablock {
        margin: 0;
        .prompt, .readonly, .readonly p {
          margin-bottom: $component-margin-bottom-sm;
        }
        .answer {
          padding: 0 !important;
          margin-bottom: $component-margin-bottom-xs !important;
          label {
            margin-bottom: 0;
          }
          input[type="text"] {
            margin-left: $component-margin-bottom-xs; 
          }
          .r0, .r1 {
            padding-top: 0;
            padding-bottom: 0;
            margin-bottom: $component-margin-bottom-xs !important;
            label {
              font-size: 1rem;
            }
            img {
              display: none;
            }
          }
          .correct {
            background-color: rgba(40,195,130,0.2) !important;
          }
          .incorrect {
            background-color: rgba(226,35,26,0.2) !important;
          }
        }
      }
      input[type="submit"].btn {
        @extend .btn-primary;
      }
    }
    .outcome {
      @extend .info-box;
      background-color: rgba(245,185,15,0.2) !important;
      & > .feedback::before {
        content: '\f27a';
        color: $yellow;
        padding: 0 4px;
      }
      .feedback {
        &::before {
          @extend .info-box-inner::before;
        }
        @extend .info-box-inner;  
        margin-bottom: 0;
        .specificfeedback, .specificfeedback p {
          @extend .info-box-title;
          margin-bottom: 1rem;
        }
        .rightanswer {
          margin-bottom: 0;
        }
      }
    }
  }
  &.correct .outcome {
    background-color: rgba(40,195,130,0.2) !important;
    & > .feedback::before {
      color: $pea-green;
      padding: 0 4px;
      content: '\f058';
    }
  }
  &.incorrect .outcome {
    background-color: rgba(226,35,26,0.2) !important;
    & > .feedback::before {
      color: $kings-red;
      content: '\f057';
      padding: 0 4px;
    }
  }
}

// submit button
#page-mod-quiz-attempt, #page-mod-quiz-review {
  .submitbtns {
    padding: 0;
  }
  .mod_quiz-next-nav {
    margin-bottom: $component-margin-bottom-xl;
  }
}

// confirmation modal
.moodle-dialogue {
  .moodle-dialogue-wrap {
    padding: 1rem;
    .moodle-dialogue-hd {
      background-color: transparent !important;
      border-bottom: none !important;
      h1 {
        @extend .h1;
      }
    }
  }
  .moodle-dialogue-bd {
    padding: 0;
    .confirmation-message {
      font-family: 'KingsBureauGrotFiveOne';
      font-size: 1rem;
    }
    .confirmation-buttons {
    }
    .btn {
//      font-size: 1rem;
//      padding: 0.5rem 0.625rem;
//      border: none;
//      background-color: $midnight-blue !important;
//      color: white;
    }
  }
  .moodle-dialogue-ft {
    margin: 0 !important;
  }
}
// summary of attempt page (on submission of answers)
#page-mod-quiz-summary {
  .quizsummaryofattempt {
    border-left: 1px solid $table-border;
    tr {
      th, td {
        border-right: 1px solid $table-border;
        border-top: 1px solid $table-border;
        padding: 1px;
        }
      th {
        font-family: 'KingsBureauGrot';
        color: $headings;
        text-align:left !important; 
      }
      td.cell {
        background-color: $white;
        color: $body-text;
      }
      & > :first-child {
        padding: 1px 0.5rem 1px 1rem;
      }
      & > :last-child {
        padding: 1px 1rem 1px 0.5rem;
      }
      &:last-child td {
        border-bottom: 1px solid $table-border;
      }
    }  
    tbody {
      tr:nth-child(even)>th, tr:nth-child(even)>td {
        background-color: #f8fafa !important;
      }
    }
  }
}
